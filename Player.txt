class Player(pygame.sprite.Sprite):
    def __init__(self, pos_x, pos_y):
        self.flag = True
        self.count = 0
        self.clock = pygame.time.Clock()
        super().__init__(player_group, all_sprites)
        self.image = player_image
        self.rect = self.image.get_rect().move(tile_width * pos_x + 15,
                                               tile_height * pos_y + 5)

    def update(self, *args):
        self.count += 1
        if 'shoot' in args:
            Shoot(self.rect.x + 30, self.rect.y + 15)

        if 'image' in args:
            self.image = player_shoot
            return True

        if self.count % 2 == 0:
            self.image = go_image

        if self.count % 2 == 1:
            self.image = player_image

        if 273 in args and 'K_RIGHT' in args:
            if args[2] < 16:
                self.rect.y -= 8
                self.rect.x += 6
                return True

            if args[2] > 16 and not self.flag:
                self.rect.y += 8
                self.rect.x += 6

            if args[2] == 31 and self.flag:
                self.rect.y -= 8
                return True

        if 273 in args and 'K_LEFT' in args:
            if args[2] < 16:
                print(args)
                self.rect.y -= 8
                self.rect.x -= 6
                return True

            if args[2] > 16 and not self.flag:
                print(args)
                self.rect.y += 8
                self.rect.x -= 6

            if args[2] == 31 and self.flag:
                self.rect.y -= 8
                return True

        elif 273 in args and 'K_LEFT' not in args and 'K_RIGHT' not in args:
            if args[2] < 16:
                self.rect.y -= 8
                return True

            if args[2] > 16 and not self.flag:
                self.rect.y += 8
                return True

            if args[2] == 31 and self.flag:
                self.rect.y -= 8
                return True

        if 'K_RIGHT' in args and self.flag:
            self.rect.x += 10

        if 'K_LEFT' in args and self.flag and self.rect.x > 250:
            self.rect.x -= 10
        elif not self.flag:
            self.rect.y += 10

        if pygame.sprite.spritecollideany(self, killer_tiles_group):
            if not pygame.sprite.spritecollideany(self, vertical_borders):
                if not pygame.sprite.spritecollideany(self, horizontal_borders):
                    self.flag = True
                    return False
        else:
            self.flag = False
            return True
